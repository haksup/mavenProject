<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ajaxBoard">
	
	<select id="selectBoardCount" resultType="Integer">
		SELECT
			COUNT(*) AS CNT
		FROM 
			BOARD
		WHERE
			BOARD_NAME = #{boardName}
	</select>
	
	<select id="selectBoard" resultType="hashmap">
		SELECT * FROM (	SELECT ROWNUM RNUM,  ORG.* FROM (
			SELECT
				BOARD_NO,
				CONTENTS,
				DEL_YN,
				REG_DATE,
				REG_USER,
				TITLE
			FROM 
				BOARD
			<where>
				<if test="pam01 != null">
					BOARD_NO = #{pam01}
				</if>
				<if test="pam02 != null">
					AND DEL_YN = #{pam02}
				</if>
			</where>
		) ORG	) WHERE RNUM BETWEEN #{liststart} AND #{listend} 
	</select>
	
</mapper>
